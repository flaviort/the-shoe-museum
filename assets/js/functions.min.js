gsap.registerPlugin(ScrollTrigger);let body=document.body,select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e),selectId=e=>document.getElementById(e),vh=e=>window.innerHeight*(e/100),vw=e=>window.innerWidth*(e/100),lenis;function setCookie(e,t,i){var n=new Date,i=(n.setTime(n.getTime()+24*i*60*60*1e3),"expires="+n.toUTCString());document.cookie=e+"="+t+";"+i+";path=/"}function getCookie(e){var i=e+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(i))return e.substring(i.length,e.length)}return null}function initClickAndKeyFunctions(){function t(){var e=gsap.timeline();e.to("body",{overflow:"auto",duration:0}),e.to(".blur-everything",{opacity:0,pointerEvents:"none",duration:.3}),e.to("#fs-menu",{transform:"translateX(110%)",duration:.3},"-=.3s"),e.to(".blur-everything",{pointerEvents:"none",duration:0}),e.call(function(){lenis.start()})}function i(){var e=gsap.timeline();e.to("body",{overflow:"auto",duration:0}),e.to(".blur-everything",{opacity:0,pointerEvents:"none",duration:.3}),e.to("#cart-menu",{transform:"translateX(110%)",duration:.3},"-=.3s"),e.to(".blur-everything",{pointerEvents:"none",duration:0}),e.call(function(){lenis.start()})}$(".sliding-link").click(function(e){e.preventDefault();e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).offset().top},1e3)}),$(".show-pass").click(function(e){e.preventDefault();var t=$(this);t.toggleClass("hidden"),setTimeout(function(){t.hasClass("hidden")?t.siblings("input").attr("type","text"):t.siblings("input").attr("type","password")},30)}),$("label").click(function(e){e.stopImmediatePropagation()}),$(".open-fs").click(function(){var e=gsap.timeline();e.to("body",{overflow:"hidden",duration:0}),e.to("#fs-menu",{display:"block",duration:0}),e.to(".blur-everything",{opacity:1,pointerEvents:"auto",duration:.3}),e.to("#fs-menu",{transform:"none",duration:.3},"-=.3s"),e.call(function(){lenis.stop()})}),$(".close-fs, #fs-menu .menu a, #fs-menu .menu button, .blur-everything").click(function(){t()}),$(".open-cart").click(function(){var e=gsap.timeline();e.to("body",{overflow:"hidden",duration:0}),e.to("#cart-menu",{display:"block",duration:0}),e.to(".blur-everything",{opacity:1,pointerEvents:"auto",duration:.3}),e.to("#cart-menu",{transform:"none",duration:.3},"-=.3s"),e.call(function(){lenis.stop()})}),$(".close-cart, .blur-everything").click(function(){i()}),$(document).keyup(function(e){"Escape"===e.key&&(t(),i())}),$(".accordion .question").click(function(){$(this).toggleClass("active"),$(this).siblings(".answer").slideToggle(function(){})}),$(".quantity .increase").click(function(){var e=$(this).closest(".quantity").find("input"),t=parseInt(e.val());t<8&&e.val(t+1)}),$(".quantity .decrease").click(function(){var e=$(this).closest(".quantity").find("input"),t=parseInt(e.val());1<t&&e.val(t-1)}),$("#shipping-address").on("change",function(){$("#shipping-address-fields").slideToggle($(this).is(":checked"))})}function scrollTriggerAnimations(){$(".scrolling-bg").length&&selectAll(".scrolling-bg").forEach(e=>{var t=e.querySelector(".bg");gsap.set(t,{height:"calc(100% + 7rem)"}),gsap.from(t,{y:"-7rem",scrollTrigger:{trigger:e,scrub:2,end:"bottom top"}})}),$(".image-reveal")&&$(".image-reveal").each(function(){var e=$(this).find(".reveal"),t=$(this).find("img");let i=gsap.timeline({paused:!0});i.set(t,{scale:1.5}),i.to(e,{width:"100%",ease:Power4.easeInOut,duration:.75}),i.to(e,{x:"102%",ease:Power4.easeIn,duration:1}),i.to(t,{visibility:"visible",scale:1,duration:2.5,ease:Power4.easeOut},"=-1"),ScrollTrigger.create({trigger:this,start:"0% 100%",end:"100% 0%",onEnter:()=>i.play(),onLeaveBack:()=>i.reverse()})}),select(".stagger-children")&&(gsap.set(".stagger-children > *",{autoAlpha:0,y:"3rem"}),ScrollTrigger.batch(".stagger-children > *",{start:"0 97%",onEnter:e=>{gsap.to(e,{autoAlpha:1,y:"=-3rem",stagger:.15,duration:1})},onLeaveBack:e=>{gsap.to(e,{autoAlpha:0,y:"3rem",stagger:.15,duration:1})}}))}function initFancybox(){Fancybox.bind("[data-fancybox]",{autoFocus:!1,dragToClose:!1,placeFocusBack:!1,on:{ready:()=>{lenis.stop()},close:()=>{lenis.start()}}})}function initSliders(){if($(".home-slider").length){let n=select(".autoplay-indicator span");new Swiper(".home-slider",{slidesPerView:1,loop:!0,simulateTouch:!0,allowTouchMove:!0,autoHeight:!1,calculateHeight:!1,spaceBetween:0,speed:400,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:"#banner .pagination",type:"bullets",clickable:!0},on:{slideChangeTransitionStart:()=>{n.style.setProperty("--progress",1)},transitionEnd:e=>{var t=select(".home-slider .swiper-slide-active").getAttribute("data-color"),i=select("#banner .pagination");"dark"===t?(i.classList.add("brown-dark"),i.classList.remove("yellow-light")):"light"===t&&(i.classList.add("yellow-light"),i.classList.remove("brown-dark")),e.autoplay.start()},autoplayTimeLeft(e,t,i){n.style.setProperty("--progress",1-i)}}})}if($(".products-slider").length&&new Swiper(".products-slider",{slidesPerView:1.1,spaceBetween:15,loop:!0,simulateTouch:!0,allowTouchMove:!0,autoHeight:!1,calculateHeight:!1,speed:600,mousewheel:{forceToAxis:!0},navigation:{nextEl:".products-section .arrows .next",prevEl:".products-section .arrows .prev"},breakpoints:{575:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20}}}),$(".logos-slider").length&&new Swiper(".logos-slider",{slidesPerView:2.5,loop:!1,simulateTouch:!0,allowTouchMove:!0,autoHeight:!0,calculateHeight:!1,spaceBetween:20,speed:600,freeMode:!0,mousewheel:{forceToAxis:!0},autoplay:{delay:3e3},breakpoints:{420:{slidesPerView:3,spaceBetween:25},575:{slidesPerView:4,spaceBetween:30},992:{slidesPerView:5,spaceBetween:40},1200:{slidesPerView:6,spaceBetween:50}}}),$(".product-slider").length){let e=new Swiper(".product-slider-thumbs",{centeredSlides:!0,centeredSlidesBounds:!0,spaceBetween:10,slidesPerView:3,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{1200:{direction:"vertical",slidesPerView:5}}}),t=new Swiper(".product-slider",{watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preventInteractionOnTransition:!0,slidesPerView:1,loop:!1,simulateTouch:!0,allowTouchMove:!0,autoHeight:!1,calculateHeight:!1,spaceBetween:0,speed:600,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".product-slider .next",prevEl:".product-slider .prev"},thumbs:{swiper:e}});t.on("slideChangeTransitionStart",function(){e.slideTo(t.activeIndex)}),e.on("transitionStart",function(){t.slideTo(e.activeIndex)})}$(".related-slider").length&&new Swiper(".related-slider",{slidesPerView:1.1,loop:!1,simulateTouch:!0,allowTouchMove:!0,autoHeight:!0,calculateHeight:!1,spaceBetween:15,speed:600,mousewheel:{forceToAxis:!0},navigation:{nextEl:".review-slider-section .next",prevEl:".review-slider-section .prev"},breakpoints:{767:{slidesPerView:2,spaceBetween:20},1200:{slidesPerView:3,spaceBetween:30}}})}function initLucide(){lucide.createIcons()}function initLenis(){(lenis=new Lenis({duration:2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e))})).on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0)}function validateAndSubmitForms(){$(".form-validate").length&&$(".form-validate").each(function(){var i=$(this);i.validate({errorPlacement:function(e,t){e.appendTo(t.closest(".form-line")),e.addClass("error-msg")},highlight:function(e){$(e).closest(".form-line").addClass("error")},unhighlight:function(e){$(e).closest(".form-line").removeClass("error")},submitHandler:function(e){var e=$(e).get(0),e=new FormData(e),t=location.href.indexOf("dev").length<=-1?location.origin+"/the-shoe-museum/assets/php/mailer.php":location.origin+"/assets/php/mailer.php";$.ajax({type:"POST",url:t,data:e,dataType:"html",crossDomain:!0,async:!0,cache:!1,contentType:!1,processData:!1,beforeSend:function(){i.addClass("sending")},success:function(e){"1"==e&&setTimeout(function(){return Fancybox.show([{src:"#contact-error",type:"inline"}]),!1},2e3),setTimeout(function(){i[0].reset(),Fancybox.show([{src:"#contact-success",type:"inline"}])},2e3)},error:function(){setTimeout(function(){Fancybox.show([{src:"#contact-error",type:"inline"}])},2e3)},complete:function(){setTimeout(function(){i.removeClass("sending")},2e3)}})}})})}function playVideoInView(){gsap.utils.toArray(".play-pause").forEach(e=>{let t=e.querySelector("video");ScrollTrigger.create({trigger:t,start:"0% 120%",end:"100% -20%",onEnter:()=>t.play(),onEnterBack:()=>t.play(),onLeave:()=>t.pause(),onLeaveBack:()=>t.pause()})})}function showHideGrid(){let t=document.querySelector(".dev-grid");document.addEventListener("keydown",function(e){e.shiftKey&&"g"===e.key.toLowerCase()&&(e.preventDefault(),t.classList.toggle("active"))})}function initScripts(){initLenis(),initClickAndKeyFunctions(),initSliders(),initFancybox(),scrollTriggerAnimations(),validateAndSubmitForms(),initLucide(),playVideoInView(),showHideGrid(),setTimeout(function(){ScrollTrigger.refresh()},1e3)}initScripts();
//# sourceMappingURL=functions.min.js.map
